---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "restful_resource Ephemeral Resource - terraform-provider-restful"
subcategory: ""
description: |-
  restful_resource manages an ephemeral resource.
---

# restful_resource (Ephemeral Resource)

`restful_resource` manages an ephemeral resource.

## Example Usage

```terraform
ephemeral "restful_resource" "test" {
  path = "/lease"
  method = "POST"

  renew_path = "/updateLease"
  renew_method = "POST"

  expiry_ahead = "0.5s"
  expiry_type = "duration"
  expiry_locator = "header.expiry"

  close_path = "/unlease"
  close_method = "POST"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `expiry_locator` (String) Specifies how to discover the expiry time. The format is `scope.path`, where `scope` can be one of `exact`, `header` and `body`, and the `path` is using the [gjson syntax](https://github.com/tidwall/gjson/blob/master/SYNTAX.md).
- `method` (String) The HTTP method to open the ephemeral resource. Possible values are `GET`, `PUT`, `POST`, `PATCH`.
- `path` (String) The path used to open the ephemeral resource, relative to the `base_url` of the provider.

### Optional

- `body` (Dynamic) The payload to open the ephemeral resource.
- `close_body` (Dynamic) The payload to close the ephemeral resource.
- `close_header` (Map of String) The header parameters that are applied to each close request. This overrides the `header` set in the resource block.
- `close_method` (String) The HTTP method to close the ephemeral resource. Possible values are `PUT`, `POST`, `PATCH`, `DELETE`.
- `close_path` (String) The path used to close the ephemeral resource, relative to the `base_url` of the provider. This can be a string literal, or combined by following params: path param: `$(path)` expanded to `path`, body param: `$(body.x.y.z)` expands to the `x.y.z` property of the API body. Especially for the body param, it can add a chain of functions (applied from left to right), in the form of `$f1.f2(body)`. Supported functions include: `escape` (URL path escape, by default applied), `unescape` (URL path unescape), `base` (filepath base), `url_path` (path segment of a URL), `trim_path` (trim `path`).
- `close_query` (Map of List of String) The query parameters that are applied to each close request. This overrides the `query` set in the resource block.
- `expiry_ahead` (String) Advance the ephemeral resource expiry time by this duration. The format is same as Go's [ParseDuration](https://pkg.go.dev/time#ParseDuration).
- `expiry_type` (String) The type of the ephemeral resource expiry time. Possible values are: "duration", "time" and "time.[layout]". "duration" means the expiry time is a [duration](https://pkg.go.dev/time#ParseDuration); "time" means the expiry time is a time, which defaults to RF3339 layout, unless the "layout" is explicitly specified (following Go's [convention](https://pkg.go.dev/time)).
- `header` (Map of String) The header parameters that are applied to each request. This overrides the `header` set in the provider block.
- `open_header` (Map of String) The header parameters that are applied to each open request. This overrides the `header` set in the resource block.
- `open_query` (Map of List of String) The query parameters that are applied to each open request. This overrides the `query` set in the resource block.
- `output_attrs` (Set of String) A set of `output` attribute paths (in [gjson syntax](https://github.com/tidwall/gjson/blob/master/SYNTAX.md)) that will be exported in the `output`. If this is not specified, all attributes will be exported by `output`.
- `query` (Map of List of String) The query parameters that are applied to each request. This overrides the `query` set in the provider block.
- `renew_body` (Dynamic) The payload to renew the ephemeral resource.
- `renew_header` (Map of String) The header parameters that are applied to each renew request. This overrides the `header` set in the resource block.
- `renew_method` (String) The HTTP method to renew the ephemeral resource. Possible values are `GET`, `PUT`, `POST`, `PATCH`.
- `renew_path` (String) The path used to renew the ephemeral resource, relative to the `base_url` of the provider. This can be a string literal, or combined by following params: path param: `$(path)` expanded to `path`, body param: `$(body.x.y.z)` expands to the `x.y.z` property of the API body. Especially for the body param, it can add a chain of functions (applied from left to right), in the form of `$f1.f2(body)`. Supported functions include: `escape` (URL path escape, by default applied), `unescape` (URL path unescape), `base` (filepath base), `url_path` (path segment of a URL), `trim_path` (trim `path`).
- `renew_query` (Map of List of String) The query parameters that are applied to each renew request. This overrides the `query` set in the resource block.

### Read-Only

- `output` (Dynamic) The response body.
