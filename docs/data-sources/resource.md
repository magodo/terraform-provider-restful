---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "restful_resource Data Source - terraform-provider-restful"
subcategory: ""
description: |-
  restful_resource data source can be used to retrieve the model of a restful resource by ID.
---

# restful_resource (Data Source)

`restful_resource` data source can be used to retrieve the model of a restful resource by ID.

## Example Usage

```terraform
data "restful_resource" "test" {
  id = "/posts/1"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The ID of the Resource, i.e. The path of the data source, relative to the `base_url` of the provider.

### Optional

- `allow_not_exist` (Boolean) Whether to throw error if the data source being queried doesn't exist (i.e. status code is 404). Defaults to `false`.
- `header` (Map of String) The header parameters that are applied to each request. This overrides the `header` set in the provider block.
- `method` (String) The HTTP Method for the request. Allowed methods are a subset of methods defined in [RFC7231](https://datatracker.ietf.org/doc/html/rfc7231#section-4.3) namely, `GET`, `HEAD`, and `POST`. `POST` support is only intended for read-only URLs, such as submitting a search. Defaults to `GET`.
- `output_attrs` (Set of String) A set of `output` attribute paths (in [gjson syntax](https://github.com/tidwall/gjson/blob/master/SYNTAX.md)) that will be exported in the `output`. If this is not specified, all attributes will be exported by `output`.
- `precheck` (Attributes List) An array of prechecks that need to pass prior to the "Read" operation. Exactly one of `mutex` or `api` should be specified. (see [below for nested schema](#nestedatt--precheck))
- `query` (Map of List of String) The query parameters that are applied to each request. This overrides the `query` set in the provider block.
- `retry` (Attributes) The retry option for the "Read" operation (see [below for nested schema](#nestedatt--retry))
- `selector` (String) A selector in [gjson query syntax](https://github.com/tidwall/gjson/blob/master/SYNTAX.md#queries), that is used when `id` represents a collection of resources, to select exactly one member resource of from it

### Read-Only

- `output` (String) The response body after reading the resource.

<a id="nestedatt--precheck"></a>
### Nested Schema for `precheck`

Optional:

- `api` (Attributes) Keeps waiting until the specified API meets the success status (see [below for nested schema](#nestedatt--precheck--api))
- `mutex` (String) The name of the mutex, which implies the resource will keep waiting until this mutex is held

<a id="nestedatt--precheck--api"></a>
### Nested Schema for `precheck.api`

Required:

- `path` (String) The path used to query readiness, relative to the `base_url` of the provider.
- `status` (Attributes) The expected status sentinels for each polling state. (see [below for nested schema](#nestedatt--precheck--api--status))
- `status_locator` (String) Specifies how to discover the status property. The format is either `code` or `scope.path`, where `scope` can be either `header` or `body`, and the `path` is using the [gjson syntax](https://github.com/tidwall/gjson/blob/master/SYNTAX.md).

Optional:

- `default_delay_sec` (Number) The interval between two pollings if there is no `Retry-After` in the response header, in second. Defaults to `10`.
- `header` (Map of String) The header parameters. This overrides the `header` set in the resource block.
- `query` (Map of List of String) The query parameters. This overrides the `query` set in the resource block.

<a id="nestedatt--precheck--api--status"></a>
### Nested Schema for `precheck.api.status`

Required:

- `success` (String) The expected status sentinel for suceess status.

Optional:

- `pending` (List of String) The expected status sentinels for pending status.




<a id="nestedatt--retry"></a>
### Nested Schema for `retry`

Required:

- `status` (Attributes) The expected status sentinels. (see [below for nested schema](#nestedatt--retry--status))
- `status_locator` (String) Specifies how to discover the status property. The format is either `code` or `scope.path`, where `scope` can be either `header` or `body`, and the `path` is using the gjson syntax. In most case, you shall use `code`, as you most not expect a write-like operation to perform multiple times.

Optional:

- `count` (Number) The maximum allowed retries. Defaults to `3`.
- `max_wait_in_sec` (Number) The maximum allowed retry wait time. Defaults to `3600`.
- `wait_in_sec` (Number) The initial retry wait time between two retries in second, if there is no `Retry-After` in the response header, or the `Retry-After` is less than this. The wait time will be increased in capped exponential backoff with jitter, at most up to `max_wait_in_sec` (if not null). Defaults to `1`.

<a id="nestedatt--retry--status"></a>
### Nested Schema for `retry.status`

Required:

- `success` (String) The expected status sentinel for suceess status.

Optional:

- `pending` (List of String) The expected status sentinels for pending status.
